{"version":3,"file":"openlogin.esm.js","sources":["../src/constants.ts","../src/loglevel.ts","../src/utils.ts","../src/Modal.ts","../src/MemoryStore.ts","../src/OpenLoginStore.ts","../src/Provider.ts","../src/OpenLogin.ts"],"sourcesContent":[null,null,null,null,null,null,null,null],"names":["modalDOMElementID","storeKey","UX_MODE","POPUP","REDIRECT","OPENLOGIN_METHOD","LOGIN","LOGOUT","CHECK_3PC_SUPPORT","SET_PID_DATA","GET_DATA","ALLOWED_INTERACTIONS","JRPC","OPENLOGIN_NETWORK","MAINNET","TESTNET","CYAN","DEVELOPMENT","SUPPORTED_KEY_CURVES","SECP256K1","ED25519","LOGIN_PROVIDER","GOOGLE","FACEBOOK","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","TWITTER","WEIBO","WECHAT","EMAIL_PASSWORDLESS","WEBAUTHN","JWT","MFA_LEVELS","DEFAULT","OPTIONAL","MANDATORY","NONE","loglevel","setLevel","getLogger","documentReady","Promise","resolve","document","readyState","addEventListener","htmlToElement","html","template","window","createElement","trimmedHtml","trim","innerHTML","content","firstChild","whitelistUrl","clientId","appKey","origin","appKeyBuf","Buffer","from","padStart","base64url","encode","getPublic","Error","sig","sign","keccak","update","digest","getHashQueryParams","replaceUrl","result","url","URL","location","href","searchParams","forEach","value","key","queryResult","get","queryParams","JSON","parse","safeatob","Object","keys","error","log","hash","substring","hashUrl","hashResult","hashParams","cleanUrl","pathname","history","replaceState","awaitReq","id","windowRef","reject","closedByHandler","closedMonitor","setInterval","closed","clearInterval","handler","ev","pid","data","removeEventListener","close","constructURL","params","baseURL","query","append","h","toString","storageAvailable","type","storageExists","storageLength","storage","length","x","setItem","removeItem","code","name","sessionStorageAvailable","localStorageAvailable","preloadIframe","openloginIframeHtml","crossOrigin","rel","relList","supports","head","appendChild","getPopupFeatures","dualScreenLeft","screenLeft","undefined","screenX","dualScreenTop","screenTop","screenY","w","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","systemZoom","left","Math","abs","top","features","handleStream","handle","eventName","handlerWrapper","chunk","removeListener","on","Modal","constructor","modalUrl","init","initIFrame","setupStream","iframeElem","mux","setupMultiplex","PostMessageStream","target","targetWindow","contentWindow","targetOrigin","verifierStream","createStream","src","documentIFrameElem","getElementById","remove","info","modalZIndex","_hideModal","body","onload","initialized","_showModal","style","display","position","right","bottom","border","setAttribute","entries","map","k","v","join","_prompt","whiteLabel","loginConfig","cb","modalHandler","write","cleanup","MemoryStore","getItem","store","OpenLoginStore","_storeKey","resetStore","getInstance","storeNamespace","storageKey","instance","localStorage","sessionStorage","finalStoreKey","toJSON","currStore","getStore","stringify","set","Provider","SafeEventEmitter","iframeUrl","rpcStream","JRPCConnection","createStreamMiddleware","pump","stream","rpcEngine","JRPCEngine","push","createIdRemapMiddleware","middleware","_rpcRequest","payload","callback","jsonrpc","randomId","OpenLogin","options","provider","Proxy","deleteProperty","_iframeUrl","network","modal","initState","no3PC","_startUrl","_popupUrl","redirectUrl","protocol","host","uxMode","replaceUrlOnRedirect","originData","_storageServerUrl","_sessionNamespace","privKey","state","startUrl","popupUrl","support3PC","storageServerUrl","sessionNamespace","console","all","updateOriginData","sessionId","_syncState","_getData","res","_check3PCSupport","filteredOriginData","whitelist","getWhitelist","getWhiteLabel","signed_urls","_","login","loginProvider","_selectedLogin","_modal","defaultParams","loginParams","request","method","allowedInteractions","logout","logoutParams","_clientId","args","session","userData","timestamp","Date","now","_user","_userSig","_userData","_originData","_whiteLabelData","_loginConfig","_sessionId","includes","_jrpcRequest","_origin","_setPIDData","setTimeout","b64Params","jsonToBase64","_pid","_method","u","open","Array","isArray","getRpcPromiseCallback","newState","cancel","selectedLoginResponse","merge","_cleanup","encrypt","message","privateKey","exec","decrypt","ciphertext","getUserInfo","storeData","userInfo","email","profileImage","aggregateVerifier","verifier","verifierId","typeOfLogin","dappShare","idToken","oAuthIdToken","oAuthAccessToken","getEncodedLoginUrl","dataObject"],"mappings":"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"}