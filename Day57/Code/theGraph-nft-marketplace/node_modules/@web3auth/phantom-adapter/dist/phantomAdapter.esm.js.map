{"version":3,"file":"phantomAdapter.esm.js","sources":["../src/utils.ts","../src/phantomAdapter.ts"],"sourcesContent":[null,null],"names":["poll","callback","interval","count","Promise","resolve","reject","setTimeout","done","then","res","catch","err","detectProvider","options","isPhantomAvailable","window","solana","isPhantom","isAvailable","PhantomAdapter","BaseSolanaAdapter","constructor","WALLET_ADAPTERS","PHANTOM","ADAPTER_NAMESPACES","SOLANA","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","ADAPTER_STATUS","NOT_READY","_wallet","off","_onDisconnect","rehydrated","status","CONNECTED","READY","emit","ADAPTER_EVENTS","DISCONNECTED","chainConfig","sessionTime","isWalletConnected","isConnected","provider","phantomProvider","_","Error","setAdapterSettings","init","checkInitializationRequirements","getChainConfig","WalletInitializationError","notInstalled","PhantomInjectedProvider","config","log","debug","autoConnect","connect","error","checkConnectionRequirements","CONNECTING","adapter","handleDisconnect","_handleDisconnect","connectWithProvider","once","windowClosed","args","apply","reason","Web3AuthError","WalletLoginError","connectionError","message","publicKey","on","ERRORED","disconnect","cleanup","disconnectionError","getUserInfo","notConnectedError","injectedProvider","setupProvider","reconnected"],"mappings":"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"}